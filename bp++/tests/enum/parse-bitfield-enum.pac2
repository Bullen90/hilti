# $Id$
#
# @TEST-EXEC:  hilti-build -d -m %INPUT ${PAC_DRIVER} -o a.out
# @TEST-EXEC:  printf '\x00\x0a\x00\x3f' | HILTI_DEBUG=binpac ./a.out -p Mini::test >output 2>&1
# @TEST-EXEC:  btest-diff output

module Mini;

import BinPAC;

void f (){}

type Foo = enum { A = 15 };

export type test = unit {
    a: uint16;
    b: bitfield(uint16) {
        x1: 0..3 &convert=Foo;
        x2: 4..7 &convert=Foo;
    };

    on %done {
        print self.b.x1;
        print self.b.x2;
        }
};
