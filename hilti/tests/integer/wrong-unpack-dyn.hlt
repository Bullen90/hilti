# $Id$
#
# @TEST-EXEC:  hilti-build %INPUT -o a.out 
# @TEST-EXEC:  ./a.out >output 2>&1
# @TEST-EXEC:  test-diff output
#
# This test uses an undefined non-constant, which should throw an exception.

module Main

import Hilti

void run() {
    local iterator<bytes> p1
    local iterator<bytes> p2
    local ref<bytes> b
    local tuple<int64, iterator<bytes>> t64
    local Hilti::Packed e
    
    b = b"\x11\x22\x33\x44\x55\x66\x77\x88\x99"
    p1 = bytes.begin b
    p2 = bytes.end b
    
    e = Hilti::Packed::Undef
    
    t64 = unpack p1 p2 e
    }
