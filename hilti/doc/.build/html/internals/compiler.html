<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Compiler &mdash; HILTI v0.1 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="HILTI v0.1 documentation" href="../index.html" />
    <link rel="up" title="Internals [Missing]" href="internals.html" />
    <link rel="next" title="Runtime Environment [Missing]" href="runtime.html" />
    <link rel="prev" title="Internals [Missing]" href="internals.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="runtime.html" title="Runtime Environment [Missing]"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="internals.html" title="Internals [Missing]"
             accesskey="P">previous</a> |</li>
        <li><a href="../hilti.html">HILTI v0.1 documentation</a> &raquo;</li>
          <li><a href="internals.html" accesskey="U">Internals [Missing]</a> &raquo;</li> 
      </ul>
    </div>  
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="compiler">
<h1>Compiler<a class="headerlink" href="#compiler" title="Permalink to this headline">¶</a></h1>
<p id="internals-python-module">..todo: Describe the overall HILTI Python module structure and  usage.</p>
<p>packages; core vs. the others which have a clear entry function.</p>
<div class="section" id="core-classes">
<h2>Core Classes<a class="headerlink" href="#core-classes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="module-hilti.core.ast">
<h3>core.ast<a class="headerlink" href="#module-hilti.core.ast" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.ast.Node">
<!--[hilti.core.ast.Node]-->class <tt class="descclassname">hilti.core.ast.</tt><tt class="descname">Node</tt><a class="headerlink" href="#hilti.core.ast.Node" title="Permalink to this definition">¶</a></dt>
<dd>Node is the base class for all classes that can be nodes in an
AST.</dd></dl>

</div>
<div class="section" id="module-hilti.core.block">
<h3>core.block<a class="headerlink" href="#module-hilti.core.block" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.block.Block">
<!--[hilti.core.block.Block]-->class <tt class="descclassname">hilti.core.block.</tt><tt class="descname">Block</tt><big>(</big><em>function</em>, <em>may_remove=True</em>, <em>instructions=None</em>, <em>name=None</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.block.Block" title="Permalink to this definition">¶</a></dt>
<dd><p>A Block models a series of instructions that is executed in sequence.</p>
<p>A <em>well-formed</em> Block is a Block with exactly one Terminator,
and this terminator must be the very last instruction. A Block
can be not well-formed during construction, and the
<tt class="xref docutils literal"><span class="pre">canonifier</span></tt> will eventually turn it into a
well-formed one.</p>
<dl class="method">
<dt id="hilti.core.block.Block.addInstruction">
<!--[hilti.core.block.Block.addInstruction]--><tt class="descname">addInstruction</tt><big>(</big><em>ins</em><big>)</big><a class="headerlink" href="#hilti.core.block.Block.addInstruction" title="Permalink to this definition">¶</a></dt>
<dd>Adds an <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>
<em>ins</em> to the end of the current list.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.function">
<!--[hilti.core.block.Block.function]--><tt class="descname">function</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.block.Block.function" title="Permalink to this definition">¶</a></dt>
<dd><ol class="upperalpha simple">
<li>Returns the parent <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> of this Block.</li>
<li>Returns the parent <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> of this Block.</li>
</ol>
</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.instructions">
<!--[hilti.core.block.Block.instructions]--><tt class="descname">instructions</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.block.Block.instructions" title="Permalink to this definition">¶</a></dt>
<dd>Returns the list of
<a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a> objects forming
this Block.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.location">
<!--[hilti.core.block.Block.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.block.Block.location" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object for this
Block.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.mayRemove">
<!--[hilti.core.block.Block.mayRemove]--><tt class="descname">mayRemove</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.block.Block.mayRemove" title="Permalink to this definition">¶</a></dt>
<dd>Returns a boolean indicating whether the <tt class="xref docutils literal"><span class="pre">canonifier</span></tt>
is allowed to remove this Block in case it does not have any
instructions.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.name">
<!--[hilti.core.block.Block.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.block.Block.name" title="Permalink to this definition">¶</a></dt>
<dd>Returns the name of this Block as a string.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.next">
<!--[hilti.core.block.Block.next]--><tt class="descname">next</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.block.Block.next" title="Permalink to this definition">¶</a></dt>
<dd>Returns this Block&#8217;s successor Block.

The successor is the Block
where control is transfered to after executing the last instruction
(if the last instruction is a a flow-control instruction, that takes
precedent).</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.replace">
<!--[hilti.core.block.Block.replace]--><tt class="descname">replace</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#hilti.core.block.Block.replace" title="Permalink to this definition">¶</a></dt>
<dd>Replaces the instruction sequence of this Block, as well as the
name and the location information, with that of the given Block.

This
allows for an in-place substitution. Does not change the results of 
<a title="hilti.core.block.Block.function" class="reference internal" href="#hilti.core.block.Block.function"><tt class="xref docutils literal"><span class="pre">function()</span></tt></a>, <a title="hilti.core.block.Block.next" class="reference internal" href="#hilti.core.block.Block.next"><tt class="xref docutils literal"><span class="pre">next()</span></tt></a>, and <a title="hilti.core.block.Block.mayRemove" class="reference internal" href="#hilti.core.block.Block.mayRemove"><tt class="xref docutils literal"><span class="pre">mayRemove()</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.setMayRemove">
<!--[hilti.core.block.Block.setMayRemove]--><tt class="descname">setMayRemove</tt><big>(</big><em>may</em><big>)</big><a class="headerlink" href="#hilti.core.block.Block.setMayRemove" title="Permalink to this definition">¶</a></dt>
<dd>If the boolean <em>may</em> is true, the <tt class="xref docutils literal"><span class="pre">canonifier</span></tt> is
allowed to remove this Block in case it does not have any
instructions.

The default is True.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.setName">
<!--[hilti.core.block.Block.setName]--><tt class="descname">setName</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.block.Block.setName" title="Permalink to this definition">¶</a></dt>
<dd>Sets the name of this Block to the string <em>name</em>.</dd></dl>

<dl class="method">
<dt id="hilti.core.block.Block.setNext">
<!--[hilti.core.block.Block.setNext]--><tt class="descname">setNext</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#hilti.core.block.Block.setNext" title="Permalink to this definition">¶</a></dt>
<dd>Sets this Block&#8217;s successor Block to <em>b</em>.

The successor is the
Block where control is transfered to after executing the last
instruction (if the last instruction is a a flow-control instruction,
that takes precedent).</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hilti.core.constant">
<h3>core.constant<a class="headerlink" href="#module-hilti.core.constant" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.constant.Constant">
<!--[hilti.core.constant.Constant]-->class <tt class="descclassname">hilti.core.constant.</tt><tt class="descname">Constant</tt><big>(</big><em>value</em>, <em>type</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.constant.Constant" title="Permalink to this definition">¶</a></dt>
<dd><p>A Constant represents a constant value with its
<a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</p>
<p>The class maps the <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> subtype to <a title="hilti.core.constant.Constant.type" class="reference internal" href="#hilti.core.constant.Constant.type"><tt class="xref docutils literal"><span class="pre">type()</span></tt></a>.</p>
<dl class="method">
<dt id="hilti.core.constant.Constant.location">
<!--[hilti.core.constant.Constant.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.constant.Constant.location" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> associated with
the Constant.</dd></dl>

<dl class="method">
<dt id="hilti.core.constant.Constant.setType">
<!--[hilti.core.constant.Constant.setType]--><tt class="descname">setType</tt><big>(</big><em>type</em><big>)</big><a class="headerlink" href="#hilti.core.constant.Constant.setType" title="Permalink to this definition">¶</a></dt>
<dd>Sets the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the Constant to <em>type</em>.</dd></dl>

<dl class="method">
<dt id="hilti.core.constant.Constant.type">
<!--[hilti.core.constant.Constant.type]--><tt class="descname">type</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.constant.Constant.type" title="Permalink to this definition">¶</a></dt>
<dd>Return the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the Constant.</dd></dl>

<dl class="method">
<dt id="hilti.core.constant.Constant.value">
<!--[hilti.core.constant.Constant.value]--><tt class="descname">value</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.constant.Constant.value" title="Permalink to this definition">¶</a></dt>
<dd>Return the value of the Constant.</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="hilti.core.constant.Void">
<!--[hilti.core.constant.Void]--><tt class="descclassname">hilti.core.constant.</tt><tt class="descname">Void</tt><a class="headerlink" href="#hilti.core.constant.Void" title="Permalink to this definition">¶</a></dt>
<dd>The special Constant representing a <em>Void</em> value.</dd></dl>

</div>
<div class="section" id="module-hilti.core.function">
<h3>core.function<a class="headerlink" href="#module-hilti.core.function" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.function.CallingConvention">
<!--[hilti.core.function.CallingConvention]-->class <tt class="descclassname">hilti.core.function.</tt><tt class="descname">CallingConvention</tt><a class="headerlink" href="#hilti.core.function.CallingConvention" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>calling convention</em> used by a <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> specifies which
implementation calls to it use.</p>
<dl class="attribute">
<dt id="hilti.core.function.CallingConvention.C">
<!--[hilti.core.function.CallingConvention.C]--><tt class="descname">C</tt><a class="headerlink" href="#hilti.core.function.CallingConvention.C" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> using C calling convention
implements standard C call semantics.

It does however not support any
HILTI-specific flow-control features, such as exceptions and
continuations.</p>
<p>Currently, functions with C calling convention cannot be

<em>implemented</em> in HILTI but must be defined in an external,
separately compiled object file. They can be <em>called</em> from HILTI
programs however. In the future, it will also be possible to
define functions with C calling convention in HILTI itself,
which will then be callable <em>from</em> C programs.</p>
</dd></dl>

<dl class="attribute">
<dt id="hilti.core.function.CallingConvention.HILTI">
<!--[hilti.core.function.CallingConvention.HILTI]--><tt class="descname">HILTI</tt><a class="headerlink" href="#hilti.core.function.CallingConvention.HILTI" title="Permalink to this definition">¶</a></dt>
<dd>A <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> using the proprietary HILTI
calling convention supports all of HILTI&#8217;s flow-control features but
cannot be called from other languages such as C.

This is the default
calling convention.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.function.Function">
<!--[hilti.core.function.Function]-->class <tt class="descclassname">hilti.core.function.</tt><tt class="descname">Function</tt><big>(</big><em>name</em>, <em>ty</em>, <em>module</em>, <em>cc=1</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function" title="Permalink to this definition">¶</a></dt>
<dd><p>A HILTI function declared or defined inside a module.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>name</strong>: Name of the function. It must be <em>non-qualified</em>, i.e., not be prefixed with any module name.</li>
<li><a title="hilti.core.type.Function" class="reference internal" href="#hilti.core.type.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> <strong>ty</strong>: Type of the function.</li>
<li><a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a> <strong>module</strong>: Module that provides the function&#8217;s <em>implementation</em>. For a Function with linkage <a title="hilti.core.function.CallingConvention.C" class="reference internal" href="#hilti.core.function.CallingConvention.C"><tt class="xref docutils literal"><span class="pre">C</span></tt></a>, <em>module</em> can be None.</li>
<li><a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> <strong>location</strong>: Location to be associated with the function.</li>
</ul>
<dl class="method">
<dt id="hilti.core.function.Function.IDs">
<!--[hilti.core.function.Function.IDs]--><tt class="descname">IDs</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.IDs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all IDs defined in the function&#8217;s scope.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>list of ~ID: List of all defined IDs.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.addBlock">
<!--[hilti.core.function.Function.addBlock]--><tt class="descname">addBlock</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function.addBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a block to the function&#8217;s implementation.

Appends the <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a>
to the function&#8217;s current list of blocks, and makes the new Block the
he successor of the former tail Block. The new blocks own own
successor field is cleared.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a> <strong>b</strong>: The block to add.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.addID">
<!--[hilti.core.function.Function.addID]--><tt class="descname">addID</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function.addID" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts an ID into the function&#8217;s scope.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> <strong>id</strong>: The ID to insert; the ID must not be qualified.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.blocks">
<!--[hilti.core.function.Function.blocks]--><tt class="descname">blocks</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.blocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all blocks making up the function&#8217;s implementation.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>list of <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a>: The function&#8217;s current list of blocks; may be empty.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.callingConvention">
<!--[hilti.core.function.Function.callingConvention]--><tt class="descname">callingConvention</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.callingConvention" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the calling convention used by the function.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.function.CallingConvention" class="reference internal" href="#hilti.core.function.CallingConvention"><tt class="xref docutils literal"><span class="pre">CallingConvention</span></tt></a>: The calling convention used by the function.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.clearBlocks">
<!--[hilti.core.function.Function.clearBlocks]--><tt class="descname">clearBlocks</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.clearBlocks" title="Permalink to this definition">¶</a></dt>
<dd>Clears the function&#8217;s implementation.

All blocks that have been
added to function previously, are removed.</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.linkage">
<!--[hilti.core.function.Function.linkage]--><tt class="descname">linkage</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.linkage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the linkage of the function.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.function.Linkage" class="reference internal" href="#hilti.core.function.Linkage"><tt class="xref docutils literal"><span class="pre">Linkage</span></tt></a>: The linkage of the function.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.location">
<!--[hilti.core.function.Function.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.location" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the location associated with the function.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a>: The location.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.lookupBlock">
<!--[hilti.core.function.Function.lookupBlock]--><tt class="descname">lookupBlock</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function.lookupBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Lookups the block with the given name.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>name</strong>: The name to lookup.</li>
</ul>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a>: The block with the <em>id&#8217;s</em> name, or None if no such block exists.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.lookupID">
<!--[hilti.core.function.Function.lookupID]--><tt class="descname">lookupID</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function.lookupID" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up an ID name in the function&#8217;s scope.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>name</strong>: The ID name to lookup.</li>
</ul>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a>: The ID having the given <em>name</em>, or None if no ID with such a name is defined in the function&#8217;s scope.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.module">
<!--[hilti.core.function.Function.module]--><tt class="descname">module</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.module" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the function&#8217;s module.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a>: The module that provides the implementation of the function. Returns None if the function has <a title="hilti.core.function.Linkage" class="reference internal" href="#hilti.core.function.Linkage"><tt class="xref docutils literal"><span class="pre">Linkage</span></tt></a> <a title="hilti.core.function.CallingConvention.C" class="reference internal" href="#hilti.core.function.CallingConvention.C"><tt class="xref docutils literal"><span class="pre">C</span></tt></a>.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.name">
<!--[hilti.core.function.Function.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the function&#8217;s name.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>string: The fully-qualified name of the function.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.setCallingConvention">
<!--[hilti.core.function.Function.setCallingConvention]--><tt class="descname">setCallingConvention</tt><big>(</big><em>cc</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function.setCallingConvention" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the function&#8217;s calling convention.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.function.CallingConvention" class="reference internal" href="#hilti.core.function.CallingConvention"><tt class="xref docutils literal"><span class="pre">CallingConvention</span></tt></a> <strong>cc</strong>: The calling convention to set.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.setLinkage">
<!--[hilti.core.function.Function.setLinkage]--><tt class="descname">setLinkage</tt><big>(</big><em>linkage</em><big>)</big><a class="headerlink" href="#hilti.core.function.Function.setLinkage" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the function&#8217;s linkage.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.function.Linkage" class="reference internal" href="#hilti.core.function.Linkage"><tt class="xref docutils literal"><span class="pre">Linkage</span></tt></a> <strong>linkage</strong>: The linkage to set.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.function.Function.type">
<!--[hilti.core.function.Function.type]--><tt class="descname">type</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.function.Function.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the type of the function.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.type.Function" class="reference internal" href="#hilti.core.type.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a>: The type of the function.</li>
</ul>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.function.Linkage">
<!--[hilti.core.function.Linkage]-->class <tt class="descclassname">hilti.core.function.</tt><tt class="descname">Linkage</tt><a class="headerlink" href="#hilti.core.function.Linkage" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>linkage</em> of a <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> specifies its link-time
visibility.</p>
<dl class="attribute">
<dt id="hilti.core.function.Linkage.EXPORTED">
<!--[hilti.core.function.Linkage.EXPORTED]--><tt class="descname">EXPORTED</tt><a class="headerlink" href="#hilti.core.function.Linkage.EXPORTED" title="Permalink to this definition">¶</a></dt>
<dd>A <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> with linkage EXPORTED is visible across all
compilation units.</dd></dl>

<dl class="attribute">
<dt id="hilti.core.function.Linkage.LOCAL">
<!--[hilti.core.function.Linkage.LOCAL]--><tt class="descname">LOCAL</tt><a class="headerlink" href="#hilti.core.function.Linkage.LOCAL" title="Permalink to this definition">¶</a></dt>
<dd>A <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> with linkage LOCAL is only visible inside the
<a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a> it is implemented in.

This is the default linkage.</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hilti.core.id">
<h3>core.id<a class="headerlink" href="#module-hilti.core.id" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.id.ID">
<!--[hilti.core.id.ID]-->class <tt class="descclassname">hilti.core.id.</tt><tt class="descname">ID</tt><big>(</big><em>name</em>, <em>type</em>, <em>role</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.id.ID" title="Permalink to this definition">¶</a></dt>
<dd><p>An ID binds a name to a type.

<em>name</em> is a string. The name
may be qualified with a scope as in +scope::name+. <em>type</em> is an
instance of <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>, and <em>role</em> is the IDs <a title="hilti.core.id.Role" class="reference internal" href="#hilti.core.id.Role"><tt class="xref docutils literal"><span class="pre">Role</span></tt></a>.
<em>location</em> gives a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> to be associated with this
Function.</p>
<p>The class maps the <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> subtype to <a title="hilti.core.id.ID.type" class="reference internal" href="#hilti.core.id.ID.type"><tt class="xref docutils literal"><span class="pre">type()</span></tt></a>.</p>
<dl class="method">
<dt id="hilti.core.id.ID.location">
<!--[hilti.core.id.ID.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.id.ID.location" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> associated with
this ID.</dd></dl>

<dl class="method">
<dt id="hilti.core.id.ID.name">
<!--[hilti.core.id.ID.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.id.ID.name" title="Permalink to this definition">¶</a></dt>
<dd>Returns a string with the IDs name.</dd></dl>

<dl class="method">
<dt id="hilti.core.id.ID.qualified">
<!--[hilti.core.id.ID.qualified]--><tt class="descname">qualified</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.id.ID.qualified" title="Permalink to this definition">¶</a></dt>
<dd>Returns True if the name is qualified.</dd></dl>

<dl class="method">
<dt id="hilti.core.id.ID.role">
<!--[hilti.core.id.ID.role]--><tt class="descname">role</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.id.ID.role" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.id.Role" class="reference internal" href="#hilti.core.id.Role"><tt class="xref docutils literal"><span class="pre">Role</span></tt></a> of this ID.</dd></dl>

<dl class="method">
<dt id="hilti.core.id.ID.setName">
<!--[hilti.core.id.ID.setName]--><tt class="descname">setName</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.id.ID.setName" title="Permalink to this definition">¶</a></dt>
<dd>Sets the IDs name to the string <em>name</em>.

The name may be qualified
with a scope as in +scope::name+</dd></dl>

<dl class="method">
<dt id="hilti.core.id.ID.splitScope">
<!--[hilti.core.id.ID.splitScope]--><tt class="descname">splitScope</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.id.ID.splitScope" title="Permalink to this definition">¶</a></dt>
<dd>Return a tupel <em>(scope, name)</em> where scope is the qualified scope
if there is any, and None otherwise; <em>name</em> the scope-less name.

As
scopes are generally considered case-insenstive, the returned <em>scope</em>
is converted to lower-case.</dd></dl>

<dl class="method">
<dt id="hilti.core.id.ID.type">
<!--[hilti.core.id.ID.type]--><tt class="descname">type</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.id.ID.type" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of this ID.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.id.Role">
<!--[hilti.core.id.Role]-->class <tt class="descclassname">hilti.core.id.</tt><tt class="descname">Role</tt><a class="headerlink" href="#hilti.core.id.Role" title="Permalink to this definition">¶</a></dt>
<dd><p>The <em>Role</em> of an <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> separates IDs into several subgroups
according to where they are defined.</p>
<dl class="attribute">
<dt id="hilti.core.id.Role.GLOBAL">
<!--[hilti.core.id.Role.GLOBAL]--><tt class="descname">GLOBAL</tt><a class="headerlink" href="#hilti.core.id.Role.GLOBAL" title="Permalink to this definition">¶</a></dt>
<dd>A <a title="hilti.core.id.Role.GLOBAL" class="reference internal" href="#hilti.core.id.Role.GLOBAL"><tt class="xref docutils literal"><span class="pre">GLOBAL</span></tt></a> <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> is defined at module-level scope.</dd></dl>

<dl class="attribute">
<dt id="hilti.core.id.Role.LOCAL">
<!--[hilti.core.id.Role.LOCAL]--><tt class="descname">LOCAL</tt><a class="headerlink" href="#hilti.core.id.Role.LOCAL" title="Permalink to this definition">¶</a></dt>
<dd>A <a title="hilti.core.id.Role.LOCAL" class="reference internal" href="#hilti.core.id.Role.LOCAL"><tt class="xref docutils literal"><span class="pre">LOCAL</span></tt></a> <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> is defined in a non-global scope.</dd></dl>

<dl class="attribute">
<dt id="hilti.core.id.Role.PARAM">
<!--[hilti.core.id.Role.PARAM]--><tt class="descname">PARAM</tt><a class="headerlink" href="#hilti.core.id.Role.PARAM" title="Permalink to this definition">¶</a></dt>
<dd>An <tt class="xref docutils literal"><span class="pre">ARGUMENT</span></tt> <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> is defined as a
<a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a>  argument.</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hilti.core.instruction">
<h3>core.instruction<a class="headerlink" href="#module-hilti.core.instruction" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.instruction.ConstOperand">
<!--[hilti.core.instruction.ConstOperand]-->class <tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">ConstOperand</tt><big>(</big><em>constant</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.ConstOperand" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived from <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>, a ConstOperand represents a constant
<a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a> operand.

<em>constant</em> is an instance of <a title="hilti.core.constant.Constant" class="reference internal" href="#hilti.core.constant.Constant"><tt class="xref docutils literal"><span class="pre">Constant</span></tt></a>, and
<em>location</em> a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> to be associated with the operand.</p>
<p>For a ConstOperand, <tt class="xref docutils literal"><span class="pre">value()</span></tt> returns the same value as Constant&#8217;s
<a title="hilti.core.constant.Constant.value" class="reference internal" href="#hilti.core.constant.Constant.value"><tt class="xref docutils literal"><span class="pre">value()</span></tt></a>.</p>
<dl class="method">
<dt id="hilti.core.instruction.ConstOperand.constant">
<!--[hilti.core.instruction.ConstOperand.constant]--><tt class="descname">constant</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.ConstOperand.constant" title="Permalink to this definition">¶</a></dt>
<dd>Returns the operand&#8217;s <a title="hilti.core.constant.Constant" class="reference internal" href="#hilti.core.constant.Constant"><tt class="xref docutils literal"><span class="pre">Constant</span></tt></a></dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.ConstOperand.setConstant">
<!--[hilti.core.instruction.ConstOperand.setConstant]--><tt class="descname">setConstant</tt><big>(</big><em>const</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.ConstOperand.setConstant" title="Permalink to this definition">¶</a></dt>
<dd>Sets the operand&#8217;s <a title="hilti.core.constant.Constant" class="reference internal" href="#hilti.core.constant.Constant"><tt class="xref docutils literal"><span class="pre">Constant</span></tt></a> to <em>const</em></dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.instruction.IDOperand">
<!--[hilti.core.instruction.IDOperand]-->class <tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">IDOperand</tt><big>(</big><em>id</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.IDOperand" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived from <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>, an IDOperand is an operand that references an
<a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a>.

<em>id</em> is the reference <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a>, , and <em>location</em> a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> to be
associated with the operand.</p>
<p>For an IDOperand, <tt class="xref docutils literal"><span class="pre">value()</span></tt> returns the name of the <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> as a
string.</p>
<dl class="method">
<dt id="hilti.core.instruction.IDOperand.id">
<!--[hilti.core.instruction.IDOperand.id]--><tt class="descname">id</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.IDOperand.id" title="Permalink to this definition">¶</a></dt>
<dd>Returns the operand&#8217;s <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a>.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.instruction.Instruction">
<!--[hilti.core.instruction.Instruction]-->class <tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">Instruction</tt><big>(</big><em>op1=None</em>, <em>op2=None</em>, <em>op3=None</em>, <em>target=None</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the base class for all instructions supported by the
HILTI language.

It is however not supposed to be derived directly from; to
create a new instruction, use the <a title="hilti.core.instruction.instruction" class="reference internal" href="#hilti.core.instruction.instruction"><tt class="xref docutils literal"><span class="pre">instruction()</span></tt></a> decorator.</p>
<p><em>op1</em>/<em>op2</em>/<em>op3</em> are the <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a> objects of the instruction. <em>target</em>
specifies where the instructions result is stored and must be an
<a title="hilti.core.instruction.IDOperand" class="reference internal" href="#hilti.core.instruction.IDOperand"><tt class="xref docutils literal"><span class="pre">IDOperand</span></tt></a>. The types of operands and targt must match with the
Instruction&#8217;s <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a> and may only be <em>None</em> if the signature allows
for it (including for optional operands). <em>location</em> gives a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> to
be associated with this Function.</p>
<dl class="method">
<dt id="hilti.core.instruction.Instruction.location">
<!--[hilti.core.instruction.Instruction.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.location" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object associated with this Instruction</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.name">
<!--[hilti.core.instruction.Instruction.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.name" title="Permalink to this definition">¶</a></dt>
<dd>Returns a string with the Instruction&#8217;s name, i.

e., the mnemonic as
used in a HILTI program.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.op1">
<!--[hilti.core.instruction.Instruction.op1]--><tt class="descname">op1</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.op1" title="Permalink to this definition">¶</a></dt>
<dd>Returns the Instruction&#8217;s first <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>, or <em>None</em> if it does not
have any operands.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.op2">
<!--[hilti.core.instruction.Instruction.op2]--><tt class="descname">op2</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.op2" title="Permalink to this definition">¶</a></dt>
<dd>Returns the Instruction&#8217;s second <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>, or <em>None</em> if it has
less than two operands.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.op3">
<!--[hilti.core.instruction.Instruction.op3]--><tt class="descname">op3</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.op3" title="Permalink to this definition">¶</a></dt>
<dd>Returns the Instruction&#8217;s second <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>, or <em>None</em> if it has
less than three operands.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.setOp1">
<!--[hilti.core.instruction.Instruction.setOp1]--><tt class="descname">setOp1</tt><big>(</big><em>op</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.setOp1" title="Permalink to this definition">¶</a></dt>
<dd>Sets the <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a> <em>op</em> to be the Instruction&#8217;s first operand.

The
type of <em>op</em> must match with the Instruction&#8217;s <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.setOp2">
<!--[hilti.core.instruction.Instruction.setOp2]--><tt class="descname">setOp2</tt><big>(</big><em>op</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.setOp2" title="Permalink to this definition">¶</a></dt>
<dd>Sets the <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a> <em>op</em> to be the Instruction&#8217;s second operand.

The
type of <em>op</em> must match with the Instruction&#8217;s <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.setOp3">
<!--[hilti.core.instruction.Instruction.setOp3]--><tt class="descname">setOp3</tt><big>(</big><em>op</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.setOp3" title="Permalink to this definition">¶</a></dt>
<dd>Sets the <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a> <em>op</em> to be the Instruction&#8217;s third operand.

The
type of <em>op</em> must match with the Instruction&#8217;s <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.setTarget">
<!--[hilti.core.instruction.Instruction.setTarget]--><tt class="descname">setTarget</tt><big>(</big><em>target</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.setTarget" title="Permalink to this definition">¶</a></dt>
<dd>Sets the <a title="hilti.core.instruction.IDOperand" class="reference internal" href="#hilti.core.instruction.IDOperand"><tt class="xref docutils literal"><span class="pre">IDOperand</span></tt></a> <em>target</em> to be the Instruction&#8217;s target for
results.

The type of <em>target</em> must match the Instruction&#8217;s
<a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.signature">
<!--[hilti.core.instruction.Instruction.signature]--><tt class="descname">signature</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.signature" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a> of this Instruction.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Instruction.target">
<!--[hilti.core.instruction.Instruction.target]--><tt class="descname">target</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Instruction.target" title="Permalink to this definition">¶</a></dt>
<dd>Returns the Instruction&#8217;s target <a title="hilti.core.instruction.IDOperand" class="reference internal" href="#hilti.core.instruction.IDOperand"><tt class="xref docutils literal"><span class="pre">IDOperand</span></tt></a>, or <em>None</em> if it does
not have target.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.instruction.Operand">
<!--[hilti.core.instruction.Operand]-->class <tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">Operand</tt><big>(</big><em>value</em>, <em>type</em>, <em>location</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Operand" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the base class for operands and targets of <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>
objects.

It is not intended for direct use; instantiate one of its derived
classes instead.</p>
<p><em>value</em> is the Operand&#8217;s value, with a type determined by the derived
class. <em>type</em> is the Operand <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>, and <em>location</em> a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> to be
associated with the operand.</p>
<p>(Note that this class does <em>not</em> implement <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> support as an Operand
is not itself an <a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a>.)</p>
<dl class="method">
<dt id="hilti.core.instruction.Operand.location">
<!--[hilti.core.instruction.Operand.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Operand.location" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object associated with this Instruction</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Operand.type">
<!--[hilti.core.instruction.Operand.type]--><tt class="descname">type</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Operand.type" title="Permalink to this definition">¶</a></dt>
<dd>Returns the Operand&#8217;s <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Operand.value">
<!--[hilti.core.instruction.Operand.value]--><tt class="descname">value</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Operand.value" title="Permalink to this definition">¶</a></dt>
<dd>Returns the value of the Operand.

The value&#8217;s type depends on the
derived class</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.instruction.Signature">
<!--[hilti.core.instruction.Signature]-->class <tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">Signature</tt><big>(</big><em>name</em>, <em>op1=None</em>, <em>op2=None</em>, <em>op3=None</em>, <em>target=None</em>, <em>callback=None</em>, <em>terminator=False</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature" title="Permalink to this definition">¶</a></dt>
<dd><p>A Signature defines an <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a> &#8216;s name as well as the valid
<a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> for operands and target.

The class is not supposed to be
instantiated directly; instances are implicitly created when using the
<a title="hilti.core.instruction.instruction" class="reference internal" href="#hilti.core.instruction.instruction"><tt class="xref docutils literal"><span class="pre">instruction()</span></tt></a> decorator.</p>
<p><em>name</em> is a string giving the instruction&#8217;s HILTI mnemonic. 
<em>op1</em>/<em>op2</em>/<em>op3</em> give the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the instructions operands, and
<em>target</em> is the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the instruction&#8217;s result; these types must be
the corresponding <em>classes</em>, not instances thereof. If any of these is
<em>None</em>, it indicates that the instruction does not use the corresponding
operand or returns any result, respectively. If one of the types is a
tuple of types, that indicates that any of tuple&#8217;s members is a valid type
for the operand/result. If <em>None</em> is a member of the tuple, that indicates
that the operand/result is optional. <em>callback</em> is function that is
called each time an <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a> has been instantiated with this
Signature; the callback gets the <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a> as its only parameter.
<em>terminator</em> is a boolean indicating whether the Signature define&#8217;s an
instruction that is considered a <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a> Terminator.</p>
<dl class="method">
<dt id="hilti.core.instruction.Signature.callback">
<!--[hilti.core.instruction.Signature.callback]--><tt class="descname">callback</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.callback" title="Permalink to this definition">¶</a></dt>
<dd>Returns the Signature&#8217;s callback function.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Signature.name">
<!--[hilti.core.instruction.Signature.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.name" title="Permalink to this definition">¶</a></dt>
<dd>Returns the name (mnemonic) which the Signature for an
<a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Signature.op1">
<!--[hilti.core.instruction.Signature.op1]--><tt class="descname">op1</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.op1" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the first <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a></dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Signature.op2">
<!--[hilti.core.instruction.Signature.op2]--><tt class="descname">op2</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.op2" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the second <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a></dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Signature.op3">
<!--[hilti.core.instruction.Signature.op3]--><tt class="descname">op3</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.op3" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the third <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a></dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Signature.target">
<!--[hilti.core.instruction.Signature.target]--><tt class="descname">target</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.target" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the result.</dd></dl>

<dl class="method">
<dt id="hilti.core.instruction.Signature.terminator">
<!--[hilti.core.instruction.Signature.terminator]--><tt class="descname">terminator</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.Signature.terminator" title="Permalink to this definition">¶</a></dt>
<dd>Returns true if the Signature defines a Terminator instruction.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.instruction.TupleOperand">
<!--[hilti.core.instruction.TupleOperand]-->class <tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">TupleOperand</tt><big>(</big><em>ops</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.TupleOperand" title="Permalink to this definition">¶</a></dt>
<dd><p>Derived from <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>, a TupleOperand is an operand consisting of a
tupel of individual operands.

<em>ops</em> is a list of the tuple&#8217;s <a title="hilti.core.instruction.Operand" class="reference internal" href="#hilti.core.instruction.Operand"><tt class="xref docutils literal"><span class="pre">Operand</span></tt></a>
objects, and <em>location</em> a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> to be associated with the operand.</p>
<p>For a TupleOperand, <tt class="xref docutils literal"><span class="pre">value()</span></tt> returns the list of <tt class="xref docutils literal"><span class="pre">Operand`</span></tt>
objects, and <tt class="xref docutils literal"><span class="pre">value()</span> <span class="pre">returns</span> <span class="pre">a</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">individual</span> <span class="pre">operands'</span>
<span class="pre">:class:`~hilti.core.type.Type()</span></tt>.</p>
</dd></dl>

<dl class="function">
<dt id="hilti.core.instruction.createInstruction">
<!--[hilti.core.instruction.createInstruction]--><tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">createInstruction</tt><big>(</big><em>name</em>, <em>op1=None</em>, <em>op2=None</em>, <em>op3=None</em>, <em>target=None</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.createInstruction" title="Permalink to this definition">¶</a></dt>
<dd>Instantiates a new instruction according to the instruction <em>name</em>.

The
name must correspond to the mnemonic as defined by <a title="hilti.core.instruction.instruction" class="reference internal" href="#hilti.core.instruction.instruction"><tt class="xref docutils literal"><span class="pre">instruction()</span></tt></a>
decorated subclass of <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>. <em>createInstruction</em> instantiates a
object of this class and initializes <em>op1</em>/<em>op2</em>/<em>op3</em>, <em>target</em> and
<em>location</em> accordingly (see <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>).</dd></dl>

<dl class="function">
<dt id="hilti.core.instruction.getInstructions">
<!--[hilti.core.instruction.getInstructions]--><tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">getInstructions</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.instruction.getInstructions" title="Permalink to this definition">¶</a></dt>
<dd>Returns a list of all classes derived from <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>, i.

e., a
complete list of all instructions provided by the HILTI language.</dd></dl>

<dl class="function">
<dt id="hilti.core.instruction.instruction">
<!--[hilti.core.instruction.instruction]--><tt class="descclassname">hilti.core.instruction.</tt><tt class="descname">instruction</tt><big>(</big><em>name</em>, <em>op1=None</em>, <em>op2=None</em>, <em>op3=None</em>, <em>target=None</em>, <em>callback=None</em>, <em>terminator=False</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.instruction.instruction" title="Permalink to this definition">¶</a></dt>
<dd>This function is a <em>decorater</em> for classes derived from <a title="hilti.core.instruction.Instruction" class="reference internal" href="#hilti.core.instruction.Instruction"><tt class="xref docutils literal"><span class="pre">Instruction</span></tt></a>;
it defines the new instruction&#8217;s <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a>.

The arguments are the same
as taken by <a title="hilti.core.instruction.Signature" class="reference internal" href="#hilti.core.instruction.Signature"><tt class="xref docutils literal"><span class="pre">Signature</span></tt></a> constructor.</dd></dl>

</div>
<div class="section" id="module-hilti.core.location">
<h3>core.location<a class="headerlink" href="#module-hilti.core.location" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.location.Location">
<!--[hilti.core.location.Location]-->class <tt class="descclassname">hilti.core.location.</tt><tt class="descname">Location</tt><big>(</big><em>name=None</em>, <em>line=0</em><big>)</big><a class="headerlink" href="#hilti.core.location.Location" title="Permalink to this definition">¶</a></dt>
<dd>A Location stores a filename <em>name</em> (string) and a line number <em>line</em>
(integer).

If <em>line</em> is zero, the line number is assumed to be
unspecified. Locations are associated with other objects derived from
HILTI source files. If any input errors are found, the user can then be
pointed to the offending code segment.</dd></dl>

</div>
<div class="section" id="module-hilti.core.module">
<h3>core.module<a class="headerlink" href="#module-hilti.core.module" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.module.Module">
<!--[hilti.core.module.Module]-->class <tt class="descclassname">hilti.core.module.</tt><tt class="descname">Module</tt><big>(</big><em>name</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#hilti.core.module.Module" title="Permalink to this definition">¶</a></dt>
<dd><p>A Module represents a single HILTI link-time unit.

Each Module has a
scope of identifier defining which <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> objects are visible inside the
<a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a>.</p>
<p><em>name</em> is string containing the globally visible name of the Module; names
are considered case-insensitive. <em>location</em> associates a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> with
the Module.</p>
<p>When using a <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> with a Module, it will traverse the <em>values</em> of all
IDs in the Module&#8217;s scope (see <a title="hilti.core.module.Module.addID" class="reference internal" href="#hilti.core.module.Module.addID"><tt class="xref docutils literal"><span class="pre">addID()</span></tt></a>).</p>
<dl class="method">
<dt id="hilti.core.module.Module.IDs">
<!--[hilti.core.module.Module.IDs]--><tt class="descname">IDs</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.module.Module.IDs" title="Permalink to this definition">¶</a></dt>
<dd>Returns a list of all <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> objects that are part of the Module&#8217;s
scope.</dd></dl>

<dl class="method">
<dt id="hilti.core.module.Module.addID">
<!--[hilti.core.module.Module.addID]--><tt class="descname">addID</tt><big>(</big><em>id</em>, <em>value=True</em><big>)</big><a class="headerlink" href="#hilti.core.module.Module.addID" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> to the Module&#8217;s scope and associates an arbitrary
<em>value</em> with it.

If there&#8217;s no specific value that needs to be stored
with the ID, use the default of <em>True</em>.</p>
<p>An <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> defined elsewhere can be imported into a Module by adding it 
with a fully qualified name (i.e., +&lt;ext-module&gt;::&lt;name&gt;+). In this
case, subsequent lookups will only succeed if they are likewise fully
qualified. If <em>id</em> comes with a fully-qualified name that matches the
Modules&#8217;name (as returned by <tt class="xref docutils literal"><span class="pre">name()</span></tt>), subsequent lookups
will succeed no matter whether they are qualified or not.</p>
</dd></dl>

<dl class="method">
<dt id="hilti.core.module.Module.location">
<!--[hilti.core.module.Module.location]--><tt class="descname">location</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.module.Module.location" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object associated with the Module.</dd></dl>

<dl class="method">
<dt id="hilti.core.module.Module.lookupID">
<!--[hilti.core.module.Module.lookupID]--><tt class="descname">lookupID</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.module.Module.lookupID" title="Permalink to this definition">¶</a></dt>
<dd>Returns the value associated with the <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> of the given <em>name</em> if
it exists in the Module scope, and <em>None</em> otherwise.</dd></dl>

<dl class="method">
<dt id="hilti.core.module.Module.name">
<!--[hilti.core.module.Module.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.module.Module.name" title="Permalink to this definition">¶</a></dt>
<dd>Returns the globally visible name of the Module as a string.</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-hilti.core.type">
<h3>core.type<a class="headerlink" href="#module-hilti.core.type" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.type.Any">
<!--[hilti.core.type.Any]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Any</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.type.Any" title="Permalink to this definition">¶</a></dt>
<dd>A wildcard type that matches any other <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Bool">
<!--[hilti.core.type.Bool]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Bool</tt><a class="headerlink" href="#hilti.core.type.Bool" title="Permalink to this definition">¶</a></dt>
<dd>A type for boolean values.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Function">
<!--[hilti.core.type.Function]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Function</tt><big>(</big><em>args</em>, <em>resultt</em><big>)</big><a class="headerlink" href="#hilti.core.type.Function" title="Permalink to this definition">¶</a></dt>
<dd><p>A type for functions.

<em>args</em> is a list of <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> objects representing the
function&#8217;s arguments. <em>resultt</em> is the result <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> of the function.</p>
<dl class="method">
<dt id="hilti.core.type.Function.Args">
<!--[hilti.core.type.Function.Args]--><tt class="descname">Args</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.Function.Args" title="Permalink to this definition">¶</a></dt>
<dd>Returns the list of <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> objects representing the function&#8217;s
arguments.</dd></dl>

<dl class="method">
<dt id="hilti.core.type.Function.getArg">
<!--[hilti.core.type.Function.getArg]--><tt class="descname">getArg</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#hilti.core.type.Function.getArg" title="Permalink to this definition">¶</a></dt>
<dd>Returns the <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> corresponding to the given argument <em>name</em>, or
<em>None</em> if there is no such argument.</dd></dl>

<dl class="method">
<dt id="hilti.core.type.Function.resultType">
<!--[hilti.core.type.Function.resultType]--><tt class="descname">resultType</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.Function.resultType" title="Permalink to this definition">¶</a></dt>
<dd>Returns the function&#8217;s result <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.type.HeapType">
<!--[hilti.core.type.HeapType]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">HeapType</tt><big>(</big><em>args</em>, <em>name</em>, <em>docname=None</em><big>)</big><a class="headerlink" href="#hilti.core.type.HeapType" title="Permalink to this definition">¶</a></dt>
<dd>Base class for all types that must be allocated on the heap and can
only be accessed via a ~~Reference (as opposed to types derived from
<a title="hilti.core.type.StorageType" class="reference internal" href="#hilti.core.type.StorageType"><tt class="xref docutils literal"><span class="pre">StorageType</span></tt></a>, which can be directly stored in a HILTI global or local
variable).

The arguments are the same as for <a title="hilti.core.type.HiltiType" class="reference internal" href="#hilti.core.type.HiltiType"><tt class="xref docutils literal"><span class="pre">HiltiType</span></tt></a>.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.HiltiType">
<!--[hilti.core.type.HiltiType]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">HiltiType</tt><big>(</big><em>args</em>, <em>name</em>, <em>docname=None</em><big>)</big><a class="headerlink" href="#hilti.core.type.HiltiType" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all types which can be directly instantiated by the user
in a HILTI program, either in global/local variable or on the heap.</p>
<p><em>args</em> is list of type parameters; for non-parametrized types it will be
the empty list. <em>name</em> and <em>docname</em> are the same as for <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</p>
<p>If a derived class detects an error with any of the arguments, it must
raise an <tt class="xref docutils literal"><span class="pre">ParameterMismatch</span></tt> exception.</p>
<dl class="class">
<dt id="hilti.core.type.HiltiType.ParameterMismatch">
<!--[hilti.core.type.HiltiType.ParameterMismatch]-->class <tt class="descname">ParameterMismatch</tt><big>(</big><em>param</em>, <em>reason</em><big>)</big><a class="headerlink" href="#hilti.core.type.HiltiType.ParameterMismatch" title="Permalink to this definition">¶</a></dt>
<dd>Exception class to indicate a problem with type parameter.

<em>param</em>
is the parameter which caused the trouble, and <em>reason</em> is a string
that explains what&#8217;s wrong with it.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Integer">
<!--[hilti.core.type.Integer]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Integer</tt><big>(</big><em>args</em><big>)</big><a class="headerlink" href="#hilti.core.type.Integer" title="Permalink to this definition">¶</a></dt>
<dd><p>A type for integers.

<em>args</em> must be a list containing a single
integer, specifying the bit-width of values represented by this type. The
width can be zero to match any other integer types independent of their
width. Note that the HILTI language does not allow to <em>use</em> integers of
width zero however.</p>
<dl class="method">
<dt id="hilti.core.type.Integer.cmpWithSameType">
<!--[hilti.core.type.Integer.cmpWithSameType]--><tt class="descname">cmpWithSameType</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#hilti.core.type.Integer.cmpWithSameType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="hilti.core.type.Integer.setWidth">
<!--[hilti.core.type.Integer.setWidth]--><tt class="descname">setWidth</tt><big>(</big><em>width</em><big>)</big><a class="headerlink" href="#hilti.core.type.Integer.setWidth" title="Permalink to this definition">¶</a></dt>
<dd>Set the bit-width of integers represented by this type to the
integer <em>width</em>.</dd></dl>

<dl class="method">
<dt id="hilti.core.type.Integer.width">
<!--[hilti.core.type.Integer.width]--><tt class="descname">width</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.Integer.width" title="Permalink to this definition">¶</a></dt>
<dd>Returns the bit-width of integers represented by this type.

If the
returned width is zero, this type matches all other integer types
independent of their width.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Label">
<!--[hilti.core.type.Label]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Label</tt><a class="headerlink" href="#hilti.core.type.Label" title="Permalink to this definition">¶</a></dt>
<dd>A type for block labels.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.OperandType">
<!--[hilti.core.type.OperandType]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">OperandType</tt><big>(</big><em>name</em>, <em>docname=None</em><big>)</big><a class="headerlink" href="#hilti.core.type.OperandType" title="Permalink to this definition">¶</a></dt>
<dd>Base class for all types that can only be as operands or function
arguments but not stored in a variable or on the heap.

The arguments are
the same as for <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</dd></dl>

<dl class="function">
<dt id="hilti.core.type.Optional">
<!--[hilti.core.type.Optional]--><tt class="descclassname">hilti.core.type.</tt><tt class="descname">Optional</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#hilti.core.type.Optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an object that can be used as an <tt class="xref docutils literal"><span class="pre">instruction</span></tt>&#8216;s operand type
to indicate that the operand is optional.

<em>t</em> is the <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> the operand
must have if it&#8217;s there.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>This is just a short <strong>Note</strong>: cut for the tuple +(None, t)+.</li>
</ul>
</dd></dl>

<dl class="class">
<dt id="hilti.core.type.StorageType">
<!--[hilti.core.type.StorageType]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">StorageType</tt><big>(</big><em>args</em>, <em>name</em>, <em>docname=None</em><big>)</big><a class="headerlink" href="#hilti.core.type.StorageType" title="Permalink to this definition">¶</a></dt>
<dd>Base class for all types that can be directly stored in a HILTI global
or local variable (as opposed types derived from <a title="hilti.core.type.HeapType" class="reference internal" href="#hilti.core.type.HeapType"><tt class="xref docutils literal"><span class="pre">HeapType</span></tt></a>, which must be
allocated on the heap and can only be accessed via a ~~Reference).

Types
derived from StorateType cannot be allocated on the heap. The arguments
are the same as for <a title="hilti.core.type.HiltiType" class="reference internal" href="#hilti.core.type.HiltiType"><tt class="xref docutils literal"><span class="pre">HiltiType</span></tt></a>.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.String">
<!--[hilti.core.type.String]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">String</tt><a class="headerlink" href="#hilti.core.type.String" title="Permalink to this definition">¶</a></dt>
<dd>A type for strings.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Struct">
<!--[hilti.core.type.Struct]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Struct</tt><big>(</big><em>fields</em><big>)</big><a class="headerlink" href="#hilti.core.type.Struct" title="Permalink to this definition">¶</a></dt>
<dd><p>The Type for structs.

<em>fields</em> is list of <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> objects defining the fields of
the struct.</p>
<dl class="method">
<dt id="hilti.core.type.Struct.IDs">
<!--[hilti.core.type.Struct.IDs]--><tt class="descname">IDs</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.Struct.IDs" title="Permalink to this definition">¶</a></dt>
<dd>Returns the list of <a title="hilti.core.id.ID" class="reference internal" href="#hilti.core.id.ID"><tt class="xref docutils literal"><span class="pre">ID</span></tt></a> objects defining the fields of the
struct.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.type.StructDecl">
<!--[hilti.core.type.StructDecl]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">StructDecl</tt><big>(</big><em>structt</em><big>)</big><a class="headerlink" href="#hilti.core.type.StructDecl" title="Permalink to this definition">¶</a></dt>
<dd>The Type for the declration of custom struct types.

<em>structt</em> is the
<a title="hilti.core.type.Struct" class="reference internal" href="#hilti.core.type.Struct"><tt class="xref docutils literal"><span class="pre">Struct</span></tt></a> which is declared.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Tuple">
<!--[hilti.core.type.Tuple]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Tuple</tt><big>(</big><em>types</em><big>)</big><a class="headerlink" href="#hilti.core.type.Tuple" title="Permalink to this definition">¶</a></dt>
<dd>A type to represent a tuple of values.

<em>types</em> is a list of <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>
objects indicated the types of the tuple members.</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Type">
<!--[hilti.core.type.Type]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Type</tt><big>(</big><em>name</em>, <em>docname=None</em><big>)</big><a class="headerlink" href="#hilti.core.type.Type" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for all data types provided by the HILTI language.</p>
<p><em>name</em> is a string with a name of the type in a readable form, used in
error messages and debugging output. <em>docname</em> is an optional string which
is used instead of <em>name</em> in the automatically generated instruction
documentation; it is not used anywhere else.</p>
<p>Throughout the HILTI compiler, type compatibility is checked with the +==+
operator of Type objects. A comparision of the form +t == other+, where
<em>t</em> is an instance of Type (including any derived class), is performed in
the following way:</p>
<ul class="simple">
<li>If <em>other</em> is likewise an instance of Type, the two types match
according to the following rules:<ol class="arabic">
<li>If the two types are instances of the same class (exact match; <em>not</em>
including any common ancestors), the match succeeds if the
type-specific <a title="hilti.core.type.Type.cmpWithSameType" class="reference internal" href="#hilti.core.type.Type.cmpWithSameType"><tt class="xref docutils literal"><span class="pre">cmpWithSameType()</span></tt></a> method returns <em>True</em>. The
default implementation of this method in Type compares the results of
two object&#8217;s <a title="hilti.core.type.Type.name" class="reference internal" href="#hilti.core.type.Type.name"><tt class="xref docutils literal"><span class="pre">name</span></tt></a> method.</li>
<li>If either of the two types is an instance of ~Any, the match succeeds.</li>
<li>If neither (1) or (2) is the case, the match fails.</li>
</ol>
</li>
<li>If <em>other</em> is a <em>class</em> that is derived from Type, then the match
succeeds if and only if <em>t</em> is an instance of any class derived from
<em>other</em>.</li>
<li>If <em>other</em> is a tuple or list, then <em>t</em> is recursively compared to any
elements contained therein, and the match succeeds if at least one
element matches with <em>t</em>.</li>
<li>In all other cases, the comparision yields <em>False</em>.</li>
</ul>
<p>Any class derived from Type must include a class-variable +_name+
containing a string that is suitable for using in error messages to
describes the HILTI type that the class is representing.</p>
<dl class="method">
<dt id="hilti.core.type.Type.cmpWithSameType">
<!--[hilti.core.type.Type.cmpWithSameType]--><tt class="descname">cmpWithSameType</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#hilti.core.type.Type.cmpWithSameType" title="Permalink to this definition">¶</a></dt>
<dd>Compares object with another one of the <em>same</em> class.

Returns True
if they are compatible. This method can be overriden by derived
classes; the default implementation compares the results of two
<a title="hilti.core.type.Type.name" class="reference internal" href="#hilti.core.type.Type.name"><tt class="xref docutils literal"><span class="pre">name()</span></tt></a> methods.</dd></dl>

<dl class="method">
<dt id="hilti.core.type.Type.docname">
<!--[hilti.core.type.Type.docname]--><tt class="descname">docname</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.Type.docname" title="Permalink to this definition">¶</a></dt>
<dd>Returns a string with the name of the type suitable for use in the
automatically generated instruction documentation.</dd></dl>

<dl class="method">
<dt id="hilti.core.type.Type.name">
<!--[hilti.core.type.Type.name]--><tt class="descname">name</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.Type.name" title="Permalink to this definition">¶</a></dt>
<dd>Returns a string with the name of the type in a readable form.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.type.TypeDeclType">
<!--[hilti.core.type.TypeDeclType]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">TypeDeclType</tt><big>(</big><em>t</em>, <em>name</em>, <em>docname=None</em><big>)</big><a class="headerlink" href="#hilti.core.type.TypeDeclType" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for types that represent a custom, user-declared HILTI type.</p>
<p><em>t</em> is the declared type. <em>name</em> and <em>docname</em> are the same as for <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a>.</p>
<dl class="method">
<dt id="hilti.core.type.TypeDeclType.type">
<!--[hilti.core.type.TypeDeclType.type]--><tt class="descname">type</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.TypeDeclType.type" title="Permalink to this definition">¶</a></dt>
<dd>Return the user-declared type.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.type.Void">
<!--[hilti.core.type.Void]-->class <tt class="descclassname">hilti.core.type.</tt><tt class="descname">Void</tt><a class="headerlink" href="#hilti.core.type.Void" title="Permalink to this definition">¶</a></dt>
<dd>A type used to indicate that a <a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a> does not return any value.</dd></dl>

<dl class="function">
<dt id="hilti.core.type.fmtTypeClass">
<!--[hilti.core.type.fmtTypeClass]--><tt class="descclassname">hilti.core.type.</tt><tt class="descname">fmtTypeClass</tt><big>(</big><em>cls</em>, <em>doc=False</em><big>)</big><a class="headerlink" href="#hilti.core.type.fmtTypeClass" title="Permalink to this definition">¶</a></dt>
<dd>Returns a readable representation of the class <em>cls</em>; can be a tuple of
classes.</dd></dl>

<dl class="function">
<dt id="hilti.core.type.getHiltiType">
<!--[hilti.core.type.getHiltiType]--><tt class="descclassname">hilti.core.type.</tt><tt class="descname">getHiltiType</tt><big>(</big><em>name</em>, <em>args</em><big>)</big><a class="headerlink" href="#hilti.core.type.getHiltiType" title="Permalink to this definition">¶</a></dt>
<dd>Instantiates a <a title="hilti.core.type.HiltiType" class="reference internal" href="#hilti.core.type.HiltiType"><tt class="xref docutils literal"><span class="pre">HiltiType</span></tt></a>, based on the given name and type
parameters.

Returns a tuple <em>(success, result)</em>. If <em>success</em> is <em>True</em>,
the type was successfully created and result will be the corresponding
<a title="hilti.core.type.HiltiType" class="reference internal" href="#hilti.core.type.HiltiType"><tt class="xref docutils literal"><span class="pre">HiltiType</span></tt></a>. If <em>success</em> is <em>False</em>, there was an error and <em>result</em> will
contain a string with an error message.</dd></dl>

<dl class="function">
<dt id="hilti.core.type.getHiltiTypeNames">
<!--[hilti.core.type.getHiltiTypeNames]--><tt class="descclassname">hilti.core.type.</tt><tt class="descname">getHiltiTypeNames</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.type.getHiltiTypeNames" title="Permalink to this definition">¶</a></dt>
<dd>Returns a list of names of all ~HiltiType types that can directly be
instantiated in a HILTI program.</dd></dl>

<dl class="function">
<dt id="hilti.core.type.isOptional">
<!--[hilti.core.type.isOptional]--><tt class="descclassname">hilti.core.type.</tt><tt class="descname">isOptional</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#hilti.core.type.isOptional" title="Permalink to this definition">¶</a></dt>
<dd>Returns <em>True</em> if the given <a title="hilti.core.type.Type" class="reference internal" href="#hilti.core.type.Type"><tt class="xref docutils literal"><span class="pre">Type</span></tt></a> <em>type</em> represents an optional type as
returned by <a title="hilti.core.type.Optional" class="reference internal" href="#hilti.core.type.Optional"><tt class="xref docutils literal"><span class="pre">Optional()</span></tt></a>.</dd></dl>

</div>
<div class="section" id="module-hilti.core.util">
<h3>core.util<a class="headerlink" href="#module-hilti.core.util" title="Permalink to this headline">¶</a></h3>
<p>This module provides a set of general utility function used across the
compiler.</p>
<dl class="function">
<dt id="hilti.core.util.debug">
<!--[hilti.core.util.debug]--><tt class="descclassname">hilti.core.util.</tt><tt class="descname">debug</tt><big>(</big><em>msg</em>, <em>component=None</em>, <em>context=None</em><big>)</big><a class="headerlink" href="#hilti.core.util.debug" title="Permalink to this definition">¶</a></dt>
<dd>Reports an debug message to the user if debug output is enabled.

<em>msg</em>
is a string with the message to report. If <em>component</em> is a non-empty
string, it will prefix the message to indicate which component reported
the problem. If <em>context</em> is a non-empty string (or an object with a
string representation), if will be inserted into the message at a point
suitable to report location information; most commonly, <em>context</em> is set
to a relevant <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object.</dd></dl>

<dl class="function">
<dt id="hilti.core.util.error">
<!--[hilti.core.util.error]--><tt class="descclassname">hilti.core.util.</tt><tt class="descname">error</tt><big>(</big><em>msg</em>, <em>component=None</em>, <em>context=None</em>, <em>fatal=True</em><big>)</big><a class="headerlink" href="#hilti.core.util.error" title="Permalink to this definition">¶</a></dt>
<dd>Reports an error message to the user.

<em>msg</em> is a string with the
message to report. If <em>component</em> is a non-empty string, it will prefix
the message to indicate which component reported the problem. If <em>context</em>
is a non-empty string (or an object with a string representation), if will
be inserted into the message at a point suitable to report location
information; most commonly, <em>context</em> is set to a relevant <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a>
object. Finally, if <em>fatal</em> is <em>True</em>, the execution of the current
process is terminated after the error message has been printed.</dd></dl>

<dl class="function">
<dt id="hilti.core.util.internal_error">
<!--[hilti.core.util.internal_error]--><tt class="descclassname">hilti.core.util.</tt><tt class="descname">internal_error</tt><big>(</big><em>msg</em>, <em>component=None</em>, <em>context=None</em><big>)</big><a class="headerlink" href="#hilti.core.util.internal_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports an internal error to the user and aborts execution immediately.</p>
<p><em>msg</em> is a string with the message to report. If <em>component</em> is a
non-empty string, it will prefix the message to indicate which component
reported the problem. If <em>context</em> is a non-empty string (or an object
with a string representation), if will be inserted into the message at a
point suitable to report location information; most commonly, <em>context</em> is
set to a relevant <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object.</p>
</dd></dl>

<dl class="function">
<dt id="hilti.core.util.warning">
<!--[hilti.core.util.warning]--><tt class="descclassname">hilti.core.util.</tt><tt class="descname">warning</tt><big>(</big><em>msg</em>, <em>component=None</em>, <em>context=None</em><big>)</big><a class="headerlink" href="#hilti.core.util.warning" title="Permalink to this definition">¶</a></dt>
<dd>Reports an warning message to the user.

<em>msg</em> is a string with the
message to report. If <em>component</em> is a non-empty string, it will prefix
the message to indicate which component reported the problem. If <em>context</em>
is a non-empty string (or an object with a string representation), if will
be inserted into the message at a point suitable to report location
information; most commonly, <em>context</em> is set to a relevant <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a>
object.</dd></dl>

</div>
<div class="section" id="module-hilti.core.visitor">
<h3>core.visitor<a class="headerlink" href="#module-hilti.core.visitor" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.core.visitor.Visitable">
<!--[hilti.core.visitor.Visitable]-->class <tt class="descclassname">hilti.core.visitor.</tt><tt class="descname">Visitable</tt><a class="headerlink" href="#hilti.core.visitor.Visitable" title="Permalink to this definition">¶</a></dt>
<dd><p>Visitable is the base class for classes that provide <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> support.</p>
<p>To enable a class to be visited by a <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a>, derive the class from
Visitable. Override the methods <a title="hilti.core.visitor.Visitable.visit" class="reference internal" href="#hilti.core.visitor.Visitable.visit"><tt class="xref docutils literal"><span class="pre">visit()</span></tt></a> and <a title="hilti.core.visitor.Visitable.visitorSubType" class="reference internal" href="#hilti.core.visitor.Visitable.visitorSubType"><tt class="xref docutils literal"><span class="pre">visitorSubType()</span></tt></a>
as needed.</p>
<dl class="method">
<dt id="hilti.core.visitor.Visitable.visit">
<!--[hilti.core.visitor.Visitable.visit]--><tt class="descname">visit</tt><big>(</big><em>visitor</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitable.visit" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be overridden if the derived class has any childs that need to
be visited as well; these childs must likewise be derived from
Visitable.</p>
<p>If the derived class provides its own implemention, it must</p>
<ul class="simple">
<li>first call the ~~visitPre method of <em>visitor</em>,</li>
<li>then call the ~~visit method of <em>visitor</em> for each child, and</li>
<li>finally call the ~~visitPost method of <em>visitor</em>.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitable.visitorSubType">
<!--[hilti.core.visitor.Visitable.visitorSubType]--><tt class="descname">visitorSubType</tt><big>(</big><em>visitor</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitable.visitorSubType" title="Permalink to this definition">¶</a></dt>
<dd>Can be overriden to allow visitor functions to be more specific in
their choice of which nodes to handle.

The method can return any
value, which is then matched against the <em>subtype</em> parameter of the
<a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> object&#8217;s ~when, ~~pre, and ~~post methods.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="hilti.core.visitor.Visitor">
<!--[hilti.core.visitor.Visitor]-->class <tt class="descclassname">hilti.core.visitor.</tt><tt class="descname">Visitor</tt><big>(</big><em>all=False</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor" title="Permalink to this definition">¶</a></dt>
<dd><p>The Visitor class allows the traversal of a tree structure formed by
node of <a title="hilti.core.visitor.Visitable" class="reference internal" href="#hilti.core.visitor.Visitable"><tt class="xref docutils literal"><span class="pre">Visitable</span></tt></a> instances.

It is the main tool to traverse an AST.</p>
<p>To traverse an such a tree, perform the following steps:</p>
<ol class="arabic simple">
<li>Derive a class from Visitor, and instantiate an object of the new class.</li>
<li>Define a visitor functions for each subclass of <a title="hilti.core.visitor.Visitable" class="reference internal" href="#hilti.core.visitor.Visitable"><tt class="xref docutils literal"><span class="pre">Visitable</span></tt></a> you are
interested in. Decorate all these functions with +&#64;&lt;obj&gt;.&lt;meth&gt;+ where 
+&lt;obj&gt;+ is the object instantiated in (1), and +&lt;meth&gt;+ is one of
<a title="hilti.core.visitor.Visitor.when" class="reference internal" href="#hilti.core.visitor.Visitor.when"><tt class="xref docutils literal"><span class="pre">when()</span></tt></a>, <a title="hilti.core.visitor.Visitor.pre" class="reference internal" href="#hilti.core.visitor.Visitor.pre"><tt class="xref docutils literal"><span class="pre">pre()</span></tt></a>, or <a title="hilti.core.visitor.Visitor.post" class="reference internal" href="#hilti.core.visitor.Visitor.post"><tt class="xref docutils literal"><span class="pre">post</span></tt></a>.</li>
<li>Call <a title="hilti.core.visitor.Visitor.visit" class="reference internal" href="#hilti.core.visitor.Visitor.visit"><tt class="xref docutils literal"><span class="pre">visit()</span></tt></a> with the root node.</li>
</ol>
<p>When instantiating a Visitor, the boolean <em>all</em> indicates how to proceed
when multiple visitor function match a node: if <em>True</em>, all of them are
called; if <em>False</em>, only the one with the most specific type is called.</p>
<dl class="method">
<dt id="hilti.core.visitor.Visitor.post">
<!--[hilti.core.visitor.Visitor.post]--><tt class="descname">post</tt><big>(</big><em>t</em>, <em>subtype=None</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.post" title="Permalink to this definition">¶</a></dt>
<dd>Class-decorator for a function, indicating that the function
handles instances of the class <em>t</em> (which must be derived from
<a title="hilti.core.visitor.Visitable" class="reference internal" href="#hilti.core.visitor.Visitable"><tt class="xref docutils literal"><span class="pre">Visitable</span></tt></a>).

If the instance of <em>t</em> has any childs, the method will
be called <em>after</em> those are traversed. If <em>subtype</em> is given, its
value is matched against the one returned by the instance&#8217;s
~~visitSubType; and the method is only called if the two match.</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitor.pre">
<!--[hilti.core.visitor.Visitor.pre]--><tt class="descname">pre</tt><big>(</big><em>t</em>, <em>subtype=None</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.pre" title="Permalink to this definition">¶</a></dt>
<dd>Class-decorator for a function, indicating that the function
handles instances of the class <em>t</em> (which must be derived from
<a title="hilti.core.visitor.Visitable" class="reference internal" href="#hilti.core.visitor.Visitable"><tt class="xref docutils literal"><span class="pre">Visitable</span></tt></a>).

If the instance of <em>t</em> has any childs, the method will
be called <em>before</em> those are traversed. If <em>subtype</em> is given, its
value is matched against the one returned by the instance&#8217;s
~~visitSubType; and the method is only called if the two match.</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitor.skipOthers">
<!--[hilti.core.visitor.Visitor.skipOthers]--><tt class="descname">skipOthers</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.skipOthers" title="Permalink to this definition">¶</a></dt>
<dd>Can be called from a visitor function to indicate that all
subsequent visitor functions matching the same object are not to be
executed any more.</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitor.visit">
<!--[hilti.core.visitor.Visitor.visit]--><tt class="descname">visit</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.visit" title="Permalink to this definition">¶</a></dt>
<dd>Traverses the tree rooted at <a title="hilti.core.visitor.Visitable" class="reference internal" href="#hilti.core.visitor.Visitable"><tt class="xref docutils literal"><span class="pre">Visitable</span></tt></a> <em>node</em>.</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitor.visitPost">
<!--[hilti.core.visitor.Visitor.visitPost]--><tt class="descname">visitPost</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.visitPost" title="Permalink to this definition">¶</a></dt>
<dd>Must be called by a derived class&#8217; <a title="hilti.core.visitor.Visitor.visit" class="reference internal" href="#hilti.core.visitor.Visitor.visit"><tt class="xref docutils literal"><span class="pre">visit()</span></tt></a> method before it
traverses any child nodes.

<em>obj</em> is the child itself.</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitor.visitPre">
<!--[hilti.core.visitor.Visitor.visitPre]--><tt class="descname">visitPre</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.visitPre" title="Permalink to this definition">¶</a></dt>
<dd>Must be called by a derived class&#8217; <a title="hilti.core.visitor.Visitor.visit" class="reference internal" href="#hilti.core.visitor.Visitor.visit"><tt class="xref docutils literal"><span class="pre">visit()</span></tt></a> method if it has
any child nodes to traverse.

<em>obj</em> is the child itself.</dd></dl>

<dl class="method">
<dt id="hilti.core.visitor.Visitor.when">
<!--[hilti.core.visitor.Visitor.when]--><tt class="descname">when</tt><big>(</big><em>t</em>, <em>subtype=None</em><big>)</big><a class="headerlink" href="#hilti.core.visitor.Visitor.when" title="Permalink to this definition">¶</a></dt>
<dd>Class-decorator for a function, indicating that the function
handles instances of the class <em>t</em> (which must be derived from
<a title="hilti.core.visitor.Visitable" class="reference internal" href="#hilti.core.visitor.Visitable"><tt class="xref docutils literal"><span class="pre">Visitable</span></tt></a>).

If <em>subtype</em> is given, its value is matched against the
one returned by the instance&#8217;s ~~visitSubType; and the method is only
called if the two match.</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-hilti.parser">
<h2>Parser<a class="headerlink" href="#module-hilti.parser" title="Permalink to this headline">¶</a></h2>
<p>Parses a HILTI program into an AST.</p>
<p>The main external function provided by the <tt class="xref docutils literal"><span class="pre">parser</span></tt> is:</p>
<dl class="function">
<dt id="hilti.parser.parse">
<!--[hilti.parser.parse]--><tt class="descclassname">hilti.parser.</tt><tt class="descname">parse</tt><big>(</big><em>filename</em>, <em>import_paths=</em><span class="optional">[</span>, <em>'.'</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#hilti.parser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a file into an AST.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>filename</strong>: The name of the file to parse.</li>
<li>list of strings <strong>import_paths</strong>: Search paths for <tt class="docutils literal"><span class="pre">import</span></tt> statement.</li>
</ul>
<p><em>Return value</em></p>
<ul class="simple">
<li>tuple (int, <a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a>): The integer is the number of errors found during parsing. If there were no errors, <a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a> is the root of the parsed AST.</li>
</ul>
</dd></dl>

<div class="section" id="internals">
<h3>Internals<a class="headerlink" href="#internals" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.parser.parser.State">
<!--[hilti.parser.parser.State]-->class <tt class="descclassname">hilti.parser.parser.</tt><tt class="descname">State</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#hilti.parser.parser.State" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps state during parsing.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>filename</strong>: The name of the file we are parsing.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="hilti.parser.parser.loc">
<!--[hilti.parser.parser.loc]--><tt class="descclassname">hilti.parser.parser.</tt><tt class="descname">loc</tt><big>(</big><em>p</em>, <em>num</em><big>)</big><a class="headerlink" href="#hilti.parser.parser.loc" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a location object for a symbol.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>parser object <strong>p</strong>: The parser object as handed to any of parsing functions.</li>
<li>int <strong>num</strong>: The index of the symbol in <em>p</em> for from the location information is to be extracted.</li>
</ul>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a>: The location for the symbol.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="hilti.parser.parser.parse">
<!--[hilti.parser.parser.parse]--><tt class="descclassname">hilti.parser.parser.</tt><tt class="descname">parse</tt><big>(</big><em>filename</em>, <em>import_paths=</em><span class="optional">[</span>, <em>'.'</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#hilti.parser.parser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses a file into an AST.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>filename</strong>: The name of the file to parse.</li>
<li>list of strings <strong>import_paths</strong>: Search paths for +import+ statement.</li>
</ul>
<p><em>Return value</em></p>
<ul class="simple">
<li>tuple (int, <a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a>): The integer is the number of errors found during parsing. If there were no errors, <a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a> is the root of the parsed AST.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="hilti.parser.parser.error">
<!--[hilti.parser.parser.error]--><tt class="descclassname">hilti.parser.parser.</tt><tt class="descname">error</tt><big>(</big><em>p</em>, <em>msg</em>, <em>lineno=0</em><big>)</big><a class="headerlink" href="#hilti.parser.parser.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports an parsing error.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>parser object <strong>p</strong>: The parser object as handed to any of parsing functions; can be None if not available.</li>
<li>string <strong>msg</strong>: The error message to output.</li>
<li>int <strong>lineno</strong>: The line number to report the error in. If zero and <em>p</em> is given, the information is pulled from the first symbol in <em>p</em>.</li>
</ul>
</dd></dl>

<div class="admonition-todo admonition " id="todo-213">
<p class="first admonition-title">Todo</p>
<p class="last">Describe lexer, in particular the two states.</p>
</div>
</div>
</div>
<div class="section" id="module-hilti.checker">
<h2>Checker<a class="headerlink" href="#module-hilti.checker" title="Permalink to this headline">¶</a></h2>
<p>Validates the semantic correctness of an AST.

Inside the
compiler, the checker is the primary component reporting semantic
errors to the user. With the exception of the <tt class="xref docutils literal"><span class="pre">parser</span></tt>
(which reports all syntax errors as well as some semantic errors
directly when reading an input file), other components out-source
their error checking to the checker and generally just double-check
any AST properties they require with assertions.</p>
<p>The main external function provided by the <tt class="xref docutils literal"><span class="pre">checker</span></tt> is:</p>
<dl class="function">
<dt id="hilti.checker.checkAST">
<!--[hilti.checker.checkAST]--><tt class="descclassname">hilti.checker.</tt><tt class="descname">checkAST</tt><big>(</big><em>ast</em><big>)</big><a class="headerlink" href="#hilti.checker.checkAST" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the semantic correctness of the AST <em>ast</em>.

If any
errors are detected, suitable error messages are output via
<tt class="xref docutils literal"><span class="pre">util</span></tt>. This method is the primary way of ensuring that a HILTI
AST is well-formed, and it should be called whenever an AST
can potentially violate any semantic constraints being relied
upon by other components. In particular, an AST should be
checked when returned from ~~parse and ~~canonifyAST.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>~~ASTNode <strong>ast</strong>: The root of the AST to be verified.</li>
</ul>
<p><em>Return value</em></p>
<ul class="simple">
<li>int: The number of errors detected; zero means everything is fine.</li>
</ul>
</dd></dl>

<div class="section" id="module-hilti.checker.checker">
<h3>Internals<a class="headerlink" href="#module-hilti.checker.checker" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.checker.checker.Checker">
<!--[hilti.checker.checker.Checker]-->class <tt class="descclassname">hilti.checker.checker.</tt><tt class="descname">Checker</tt><a class="headerlink" href="#hilti.checker.checker.Checker" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the semantic verification of an AST.</p>
<p>The verification process proceeds by visiting the nodes of the AST and
verifying individually. Note that different from most other visitor
classes in HILTI, the checker always executes <em>all</em> matching handlers, not
only the one with the most specific type. See <a title="hilti.core.visitor.Visitor" class="reference internal" href="#hilti.core.visitor.Visitor"><tt class="xref docutils literal"><span class="pre">Visitor</span></tt></a> for more
information.</p>
<dl class="method">
<dt id="hilti.checker.checker.Checker.checkAST">
<!--[hilti.checker.checker.Checker.checkAST]--><tt class="descname">checkAST</tt><big>(</big><em>ast</em><big>)</big><a class="headerlink" href="#hilti.checker.checker.Checker.checkAST" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks an <em>ast</em>.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>int: The number of errors encountered.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.checker.checker.Checker.currentFunction">
<!--[hilti.checker.checker.Checker.currentFunction]--><tt class="descname">currentFunction</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.checker.checker.Checker.currentFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current function.

Only valid while visiting is in
progress.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a>: The current function.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.checker.checker.Checker.currentModule">
<!--[hilti.checker.checker.Checker.currentModule]--><tt class="descname">currentModule</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.checker.checker.Checker.currentModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current module.

Only valid while visiting is in
progress.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a>: The current module.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.checker.checker.Checker.declSeen">
<!--[hilti.checker.checker.Checker.declSeen]--><tt class="descname">declSeen</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.checker.checker.Checker.declSeen" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether any module-wide declaration/definition has
already been visited.

This includes, e.g., function definitions, type
declarations, etc.; yet not a +module+ statement.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>bool: True if module-wide declarations have been seen.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.checker.checker.Checker.error">
<!--[hilti.checker.checker.Checker.error]--><tt class="descname">error</tt><big>(</big><em>obj</em>, <em>message</em><big>)</big><a class="headerlink" href="#hilti.checker.checker.Checker.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Reports an error message to the user.

Once this method has been
called, no further handlers will be executed for the object currently
being visited. However, visiting will proceed with subsequent AST
nodes.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>object <strong>obj</strong>: Provides the location information to include in the message. <em>obj</em> must have a method <em>location()</em> returning a <a title="hilti.core.location.Location" class="reference internal" href="#hilti.core.location.Location"><tt class="xref docutils literal"><span class="pre">Location</span></tt></a> object. Usually, <em>obj</em> is just the object currently being visited.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.checker.checker.Checker.moduleSeen">
<!--[hilti.checker.checker.Checker.moduleSeen]--><tt class="descname">moduleSeen</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.checker.checker.Checker.moduleSeen" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether a +module+ has already been visited.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>bool: True if +module+ has been seen.</li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-hilti.printer">
<h2>Printer<a class="headerlink" href="#module-hilti.printer" title="Permalink to this headline">¶</a></h2>
<p>Converts an AST into a textual HILTI program.

The output is supposed to
be a valid HILTI program that can be reparsed into an equivalent AST.</p>
<div class="admonition-todo admonition " id="todo-214">
<p class="first last admonition-title">Todo</p>
</div>
<p>Currently, the printer does in fact not output valid HILTI code but only

a close approximation. That needs to be fixed and corresponding tests added to the
test-suite.</p>
<p>The main external function provided by the <tt class="xref docutils literal"><span class="pre">printer</span></tt> is:</p>
<dl class="function">
<dt id="hilti.printer.printAST">
<!--[hilti.printer.printAST]--><tt class="descclassname">hilti.printer.</tt><tt class="descname">printAST</tt><big>(</big><em>ast</em>, <em>output=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x19070&gt;</em><big>)</big><a class="headerlink" href="#hilti.printer.printAST" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out an AST as a HILTI program.

The AST must be well-formed
as verified by ~~checkAST.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a> <strong>ast</strong>: The root of the AST to print.</li>
<li>file <strong>output</strong>: The file to write the output to.</li>
</ul>
</dd></dl>

<div class="section" id="module-hilti.printer.printer">
<h3>Internals<a class="headerlink" href="#module-hilti.printer.printer" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.printer.printer.Printer">
<!--[hilti.printer.printer.Printer]-->class <tt class="descclassname">hilti.printer.printer.</tt><tt class="descname">Printer</tt><a class="headerlink" href="#hilti.printer.printer.Printer" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the conversion of an AST into a HILTI program.</p>
<dl class="method">
<dt id="hilti.printer.printer.Printer.currentFunction">
<!--[hilti.printer.printer.Printer.currentFunction]--><tt class="descname">currentFunction</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.currentFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current function.

Only valid while printing is in
progress.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a>: The current function.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.printer.printer.Printer.currentModule">
<!--[hilti.printer.printer.Printer.currentModule]--><tt class="descname">currentModule</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.currentModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current module.

Only valid while printing is in
progress.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a>: The current module.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.printer.printer.Printer.output">
<!--[hilti.printer.printer.Printer.output]--><tt class="descname">output</tt><big>(</big><em>str=''</em>, <em>nl=True</em><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.output" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a string to the current output file.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li>string <strong>str</strong>: The string to print.</li>
<li>bool <strong>nl</strong>: If True, add a trailing newline.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.printer.printer.Printer.pop">
<!--[hilti.printer.printer.Printer.pop]--><tt class="descname">pop</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.pop" title="Permalink to this definition">¶</a></dt>
<dd>Decreases indentation in the output by one level.</dd></dl>

<dl class="method">
<dt id="hilti.printer.printer.Printer.printAST">
<!--[hilti.printer.printer.Printer.printAST]--><tt class="descname">printAST</tt><big>(</big><em>ast</em>, <em>output</em><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.printAST" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints out the AST as a HILTI program.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a> <strong>ast</strong>: The root of the AST to print.</li>
<li>file <strong>output</strong>: The file to write the output to.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.printer.printer.Printer.push">
<!--[hilti.printer.printer.Printer.push]--><tt class="descname">push</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.push" title="Permalink to this definition">¶</a></dt>
<dd>Increases indentation in the output by one level.</dd></dl>

<dl class="method">
<dt id="hilti.printer.printer.Printer.reset">
<!--[hilti.printer.printer.Printer.reset]--><tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.printer.printer.Printer.reset" title="Permalink to this definition">¶</a></dt>
<dd>Resets the internal state.

After resetting, the object can be used
to print another AST.</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-hilti.canonifier.flow">
<h2>Canonifier<a class="headerlink" href="#module-hilti.canonifier.flow" title="Permalink to this headline">¶</a></h2>
<p>Transforms an AST into a canonified form suitable for code generation.</p>
<p>The canonified form ensures a set of properties that make simply the code
generation process, such as enforcing a fully linked block structure and
replacing some generic instructions with more specific ones. Once an AST has
been canonified, it can be passed on to <a title="hilti.codegen.generateLLVM" class="reference internal" href="#hilti.codegen.generateLLVM"><tt class="xref docutils literal"><span class="pre">generateLLVM()</span></tt></a>.</p>
<p>In the future, the canonifier will also be used to implement additional

&#8216;syntactic sugar&#8217; for the HILTI language, so that we can writing programs in
HILTI more convenient without requiring additional complexity for the code
generator.</p>
<p>The main external function provided by the <tt class="xref docutils literal"><span class="pre">canonifier</span></tt> is:</p>
<dl class="function">
<dt id="hilti.canonifier.canonifyAST">
<!--[hilti.canonifier.canonifyAST]--><tt class="descclassname">hilti.canonifier.</tt><tt class="descname">canonifyAST</tt><big>(</big><em>ast</em><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifyAST" title="Permalink to this definition">¶</a></dt>
<dd><p>Canonifies an AST in place.

The AST must be well-formed as verified
by ~~checkAST.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a> <strong>ast</strong>: The root of AST. It will be changed in place.</li>
</ul>
</dd></dl>

<p>The following <tt class="xref docutils literal"><span class="pre">Block</span></tt> canonifications are performed:</p>
<ul class="simple">
<li>Blocks that don&#8217;t have a successor are linked to the block following them
within their function&#8217;s list of <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a> objects, if any.</li>
<li>All blocks will end with a Terminator. If none is already in place, we
either add a <a title="hilti.instructions.flow.Jump" class="reference external" href="../user/syntax.html#hilti.instructions.flow.Jump"><tt class="xref docutils literal"><span class="pre">Jump</span></tt></a> pointing the succeeding block (as indicated by
<a title="hilti.core.block.Block.next" class="reference internal" href="#hilti.core.block.Block.next"><tt class="xref docutils literal"><span class="pre">next()</span></tt></a>, or a <a title="hilti.instructions.flow.ReturnVoid" class="reference external" href="../user/syntax.html#hilti.instructions.flow.ReturnVoid"><tt class="xref docutils literal"><span class="pre">ReturnVoid</span></tt></a> if there is no
successor. In the latter case, the function must be of return type <a title="hilti.core.type.Void" class="reference internal" href="#hilti.core.type.Void"><tt class="xref docutils literal"><span class="pre">Void</span></tt></a>.</li>
<li>Each so far name-less block gets a name which is unique at least within the
function the block is part of.</li>
<li>Empty blocks are removed if ~~mayRemove indicates that it is permissible to
do so.</li>
</ul>
<p>The following canonifications are perfomed on flow-control instructions:</p>
<ul class="simple">
<li>All <a title="hilti.instructions.flow.Call" class="reference external" href="../user/syntax.html#hilti.instructions.flow.Call"><tt class="xref docutils literal"><span class="pre">Call</span></tt></a> instructions are replaced with either:</li>
</ul>
<blockquote>
<ol class="arabic simple">
<li></li>
</ol>
</blockquote>
<dl class="docutils">
<dt><a title="hilti.instructions.flow.CallTailVoid" class="reference external" href="../user/syntax.html#hilti.instructions.flow.CallTailVoid"><tt class="xref docutils literal"><span class="pre">CallTailVoid</span></tt></a> if the callee function is a HILTI function without any</dt>
<dd><blockquote class="first">
return value; or</blockquote>
<ol class="last arabic simple" start="2">
<li><a title="hilti.instructions.flow.CallTailResult" class="reference external" href="../user/syntax.html#hilti.instructions.flow.CallTailResult"><tt class="xref docutils literal"><span class="pre">CallTailResult</span></tt></a> if the callee function is a HILTI function without any
return value; or</li>
<li><a title="hilti.instructions.flow.CallC" class="reference external" href="../user/syntax.html#hilti.instructions.flow.CallC"><tt class="xref docutils literal"><span class="pre">CallC</span></tt></a> if the callee function is a function with C calling convention.</li>
</ol>
</dd>
</dl>
<ul class="simple">
<li>For all Terminator instructions, the current <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a> is closed at their
location and a new <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a> is opened.</li>
</ul>
<div class="section" id="module-hilti.canonifier.canonifier">
<h3>Internals<a class="headerlink" href="#module-hilti.canonifier.canonifier" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="hilti.canonifier.canonifier.Canonifier">
<!--[hilti.canonifier.canonifier.Canonifier]-->class <tt class="descclassname">hilti.canonifier.canonifier.</tt><tt class="descname">Canonifier</tt><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the canonification of an AST.

Canonification is mandatory
to perform before starting the code generation with
<a title="hilti.codegen.generateLLVM" class="reference internal" href="#hilti.codegen.generateLLVM"><tt class="xref docutils literal"><span class="pre">generateLLVM()</span></tt></a>.</p>
<p>The canonification process proceeds by visiting the nodes of the AST and
building a new chain of transformed <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a>
objects. At the end of the process, the old blocks are replaced with the
transformed ones.</p>
<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.addTransformedBlock">
<!--[hilti.canonifier.canonifier.Canonifier.addTransformedBlock]--><tt class="descname">addTransformedBlock</tt><big>(</big><em>b</em><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.addTransformedBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a block to the list of transformed blocks.</p>
<p>b: <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a> _ The block to append to the list.</p>
</dd></dl>

<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.canonifyAST">
<!--[hilti.canonifier.canonifier.Canonifier.canonifyAST]--><tt class="descname">canonifyAST</tt><big>(</big><em>ast</em><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.canonifyAST" title="Permalink to this definition">¶</a></dt>
<dd><p>Canonifies an AST in place.</p>
<p><em>Parameters</em></p>
<ul class="simple">
<li><a title="hilti.core.ast.Node" class="reference internal" href="#hilti.core.ast.Node"><tt class="xref docutils literal"><span class="pre">Node</span></tt></a> <strong>ast</strong>: The root of the AST.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.currentFunction">
<!--[hilti.canonifier.canonifier.Canonifier.currentFunction]--><tt class="descname">currentFunction</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.currentFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current function.

Only valid while canonification is in
progress.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.function.Function" class="reference internal" href="#hilti.core.function.Function"><tt class="xref docutils literal"><span class="pre">Function</span></tt></a>: The current function.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.currentModule">
<!--[hilti.canonifier.canonifier.Canonifier.currentModule]--><tt class="descname">currentModule</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.currentModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the current module.

Only valid while canonification is in
progress.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.module.Module" class="reference internal" href="#hilti.core.module.Module"><tt class="xref docutils literal"><span class="pre">Module</span></tt></a>: The current module.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.currentTransformedBlock">
<!--[hilti.canonifier.canonifier.Canonifier.currentTransformedBlock]--><tt class="descname">currentTransformedBlock</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.currentTransformedBlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the block currently being transformed.

That is, the block
which has been added <a title="hilti.canonifier.canonifier.Canonifier.transformedBlocks" class="reference internal" href="#hilti.canonifier.canonifier.Canonifier.transformedBlocks"><tt class="xref docutils literal"><span class="pre">transformedBlocks()</span></tt></a>. The block can then be
further extended.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li><a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a>: The block added most recently to the list of transformed blocks, or None if the list is still empty.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.makeUniqueLabel">
<!--[hilti.canonifier.canonifier.Canonifier.makeUniqueLabel]--><tt class="descname">makeUniqueLabel</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.makeUniqueLabel" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a unique label.

The label is is guarenteed to be unique
within the function returned by <a title="hilti.canonifier.canonifier.Canonifier.currentFunction" class="reference internal" href="#hilti.canonifier.canonifier.Canonifier.currentFunction"><tt class="xref docutils literal"><span class="pre">currentFunction()</span></tt></a>.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>string: The generated label.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="hilti.canonifier.canonifier.Canonifier.transformedBlocks">
<!--[hilti.canonifier.canonifier.Canonifier.transformedBlocks]--><tt class="descname">transformedBlocks</tt><big>(</big><big>)</big><a class="headerlink" href="#hilti.canonifier.canonifier.Canonifier.transformedBlocks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns list of transformed blocks.</p>
<p><em>Return value</em></p>
<ul class="simple">
<li>list of <a title="hilti.core.block.Block" class="reference internal" href="#hilti.core.block.Block"><tt class="xref docutils literal"><span class="pre">Block</span></tt></a>: The list of already transformed blocks.</li>
</ul>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-hilti.codegen">
<h2>Codegen<a class="headerlink" href="#module-hilti.codegen" title="Permalink to this headline">¶</a></h2>
<p>The main external function provided by the <tt class="xref docutils literal"><span class="pre">codegen</span></tt> is:</p>
<dl class="function">
<dt id="hilti.codegen.generateLLVM">
<!--[hilti.codegen.generateLLVM]--><tt class="descclassname">hilti.codegen.</tt><tt class="descname">generateLLVM</tt><big>(</big><em>ast</em>, <em>verify=True</em><big>)</big><a class="headerlink" href="#hilti.codegen.generateLLVM" title="Permalink to this definition">¶</a></dt>
<dd>Compiles <em>ast</em> into LLVM module.

<em>ast</em> must have been already canonified.</dd></dl>

<div class="section" id="module-hilti.codegen.codegen">
<h3>Internals<a class="headerlink" href="#module-hilti.codegen.codegen" title="Permalink to this headline">¶</a></h3>
<div class="section" id="general-conventions">
<h4>General Conventions<a class="headerlink" href="#general-conventions" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>Identifiers starting with <tt class="docutils literal"><span class="pre">__</span></tt> are reservered for internal
purposes.</li>
</ul>
</div>
<div class="section" id="data-structures">
<h4>Data Structures<a class="headerlink" href="#data-structures" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">A &#8216;&#8217;__continuation&#8217;&#8217; is a snapshot of the current processing state,
consisting of (a) a function to be called to continue
processing, and (b) the frame to use when calling the function.:</p>
<div class="highlight-python"><pre>struct Continuation {
    ref&lt;label&gt;         func
    ref&lt;__basic_frame&gt; frame
}</pre>
</div>
</li>
<li><p class="first">A &#8216;&#8217;__basic_frame&#8217;&#8217; is the common part of all function frame:</p>
<div class="highlight-python"><pre>struct __basic_frame {
    ref&lt;__continuation&gt; cont_normal 
    ref&lt;__continuation&gt; cont_exception
    int                 current_exception
    ref&lt;any&gt;            current_exception_data
}</pre>
</div>
</li>
<li><p class="first">Each function &#8216;&#8217;Foo&#8217;&#8217; has a function-specific frame containg all
parameters and local variables:</p>
<div class="highlight-python"><pre>struct ''__frame_Foo'' {
    __basic_frame  bf
    &lt;type_1&gt;       arg_1
    ...
    &lt;type_n&gt;       arg_n
    &lt;type_n+1&gt;     local_1
    ...
    &lt;type_n+m&gt;     local_m</pre>
</div>
</li>
</ul>
</div>
<div class="section" id="calling-conventions">
<h4>Calling Conventions<a class="headerlink" href="#calling-conventions" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>All functions take a mandatory first parameter
&#8216;&#8217;ref&lt;__frame__Func&gt; __frame&#8217;&#8216;. Functions which work on the result
of another function call (see below), take a second parameter
&#8216;&#8217;&lt;result-type&gt; __return_value&#8217;&#8216;.</li>
<li>An exception is just call of the current exception continuation (which must
be non-null at all times.)</li>
</ul>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../hilti.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">Compiler</a><ul>
<li><a class="reference external" href="#core-classes">Core Classes</a><ul>
<li><a class="reference external" href="#module-hilti.core.ast">core.ast</a></li>
<li><a class="reference external" href="#module-hilti.core.block">core.block</a></li>
<li><a class="reference external" href="#module-hilti.core.constant">core.constant</a></li>
<li><a class="reference external" href="#module-hilti.core.function">core.function</a></li>
<li><a class="reference external" href="#module-hilti.core.id">core.id</a></li>
<li><a class="reference external" href="#module-hilti.core.instruction">core.instruction</a></li>
<li><a class="reference external" href="#module-hilti.core.location">core.location</a></li>
<li><a class="reference external" href="#module-hilti.core.module">core.module</a></li>
<li><a class="reference external" href="#module-hilti.core.type">core.type</a></li>
<li><a class="reference external" href="#module-hilti.core.util">core.util</a></li>
<li><a class="reference external" href="#module-hilti.core.visitor">core.visitor</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-hilti.parser">Parser</a><ul>
<li><a class="reference external" href="#internals">Internals</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-hilti.checker">Checker</a><ul>
<li><a class="reference external" href="#module-hilti.checker.checker">Internals</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-hilti.printer">Printer</a><ul>
<li><a class="reference external" href="#module-hilti.printer.printer">Internals</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-hilti.canonifier.flow">Canonifier</a><ul>
<li><a class="reference external" href="#module-hilti.canonifier.canonifier">Internals</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-hilti.codegen">Codegen</a><ul>
<li><a class="reference external" href="#module-hilti.codegen.codegen">Internals</a><ul>
<li><a class="reference external" href="#general-conventions">General Conventions</a></li>
<li><a class="reference external" href="#data-structures">Data Structures</a></li>
<li><a class="reference external" href="#calling-conventions">Calling Conventions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="internals.html"
                                  title="previous chapter">Internals [Missing]</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="runtime.html"
                                  title="next chapter">Runtime Environment [Missing]</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/internals/compiler.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
	  <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
	      <p style="font-size: 90%">Enter search terms or a module, class or function name.</p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="runtime.html" title="Runtime Environment [Missing]"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="internals.html" title="Internals [Missing]"
             accesskey="P">previous</a> |</li>
        <li><a href="../hilti.html">HILTI v0.1 documentation</a> &raquo;</li>
          <li><a href="internals.html" accesskey="U">Internals [Missing]</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, Robin Sommer.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.
    </div>
  </body>
</html>