
README
======

* Prerequisites:

  - Python 2.6 
  
    Note that for now the Python binary is called as "python2.6"
    because most distributions are still using a version < 2.6 as
    default. Most Python 2.6 packages seem to install a binary under
    this name though. If you don't have it after installing 2.6,
    just put a link into your PATH pointing to the right binary. 
    
  - LLVM 2.4
  
    http://llvm.org/releases/
    
    Note that you need *llvm-gcc* as well. llvm-gcc comes in its own
    package with each LLVM release, and you need to install that
    separately:
    
      * If there's a binary llvm-gcc release for your platform, it's
        really easy: just download, extract somewhere and link
        bin/llvm-gcc to a place in your PATH. 
        
      * If there's no binary release, download the source and follow
        the instructions in README.LLVM. The following is a short
        summary which may or may not work for you (see below if
        you're on Linux x86_64). 
       
        - Create a directory "llvm-gcc" and untar the source
        distribution *inside that directory*.
        
        - mkdir llvm-gcc/obj; cd llvm-gcc/obj
        
        - ../<llvm-gcc-source>/configure --prefix=<install-prefix> \
             --enable-llvm=<path-to-llvm-distribution> \
             --program-prefix=llvm- --enable-languages=c,c++

        - make && make install
        
        - llvm-ggc should now be in <install-prefix>/bin. Make sure
        that's in your PATH. 

     * Special notes for Linux x86_64:
     
        - I was able to compile llvm-gcc on Ubuntu 8.10 by giving
        configure an additional paramemter "--disable-multilib".

        - I was not able to compile llvm-gcc on a Red Hat 
        Red Hat Enterprise 4. (That's was the ICSI machines are). I
        got a ton of different errors, but did not find a working
        config. Any help appreciated.

  - LLVM-PY 0.5
  
    http://code.google.com/p/llvm-py/downloads/list

  - PLY 2.5 (Python Lex/Yacc)

    http://www.dabeaz.com/ply/

  - For generating the documentation (optional)
    
    * Sphinx 0.6, or (perhaps) current development:
    
      http://sphinx.pocoo.org/
    
      To get the repository version:
    
        - Checking out:
          hg clone http://bitbucket.org/birkenfeld/sphinx
        
        - Updating:
          hg pull http://bitbucket.org/birkenfeld/sphinx
          
    * Graphviz in some reasonable recent version.
    
      http://www.graphviz.org/

* There's not much in terms of installing anything system-wide yet
  but you should be able to get the test-suite to pass rather easily:
  
  1. First, you need to build libhilti:
  
     > cd libhilti && make
     
     There shouldn't be any errors messages.
     
  2. Then just run the Makefile in tests:
  
     > cd tests && make
     
     All tests are supposed to pass. If there's a problem with a test,
     "./run-tester -d path/to/test" will give you debugging output. 

* Starting points

  - Documentation is located in doc/html. It's a work in progress,
    with more and more pieces appearing there over time. To build,
    just type make.
  
  - Look at the HILTI source files in the tests/* subdirectories to
    see how HILTI programs look like.

  - Tools:

    * tools/hiltic is the HILTI->LLVM compiler
  
    * tools/hilti-build runs the whole chain HILTI-to-native-executable. 

  - Look at tests/run-tester to see what environment variables to
    set for running the HILTI tools. 
    
